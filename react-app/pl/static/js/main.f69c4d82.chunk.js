(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('{"global":{"yes":"Yes","no":"No","save":"Save","cancel":"Cancel","ok":"OK"},"app":{"title":"Boules","score":"Score:","next_colors":"Next colors","new_game":"New","undo":"Undo","show_leaderboard":"Leaderboard","show_options":"Settings","show_help":"Help","load_game":"Load","save_game":"Save"},"install_prompt":{"modal_title":"Install \'Boules\'","prompt":"By clicking \'Install\' you can add this app to your home screen, and be able to play anywhere, even offline.","ok_label":"Install"},"board":{"cell_label":"cell at {{ coords }}","cell_color":", color: {{ value }}","cell_empty":", empty"},"game_over":{"modal_title":"Game Over","congratulations":"Congratulations! You achieved a very high score!","name_label":"Enter your name","dont_save":"Don\'t save","new_game_prompt":"Game Over. Would you like to start a new game?"},"options":{"modal_title":"Options","info":"You will score higher if you play with more colors or on smaller board. Also, hiding next colors makes score higher. (See example below.)","show_next_colors":"Show next colors?","show":"Show","hide":"Hide","number_of_colors":"Number of colors:","board_size":"Board size:","summary":"With these settings, for <1>{{lineLength}}-cell-long</1> row you will earn <1>{{estimatedScore}}</1> points."},"leaderboard":{"modal_title":"High Scores","th_player":"Player","th_score":"Score","th_date":"Date","close":"Close","clear":"Clear all scores","clear_scores_title":"Clear all scores","clear_scores_message":"Are you sure you want to clear all scores in the leaderboard?"},"load_game":{"modal_title":"Load Game","clear":"Clear all saved games"},"save_game":{"modal_title":"Save Game","initial_game_name":"saved_{{date}}","input_label":"Game Name"},"tutorial":{"modal_title":"How to Play","info":"Move the balls so that they form the line of minimum 5 balls of the same color. The lines could be vertical, horizontal or diagonal.","moving_balls":"In order to move a ball, first click on it. Next, click on the empty place where you want to move. If there is a path to that position, the ball will move there. Otherwise, you cannot make such a step - you have to select either another place or another ball.","scoring":"After building a row of at least 5 balls, the whole row will disappear and you will get the points.","score_rules":"You will score higher if you play with more colors or on smaller board. See game settings for more details.","game_over":"After each move, the next 3 balls will appear on the board. Once the board is full, the game is over. If your score is high enough, you will be asked to put your name on the Leaders\' Board."}}')},28:function(e){e.exports=JSON.parse('{"global":{"yes":"Tak","no":"Nie","save":"Zapisz","cancel":"Anuluj","ok":"OK"},"app":{"title":"Kulki","score":"Punkty:","next_colors":"Nast\u0119pne kolory","new_game":"Nowa","undo":"Cofnij","show_leaderboard":"Ranking","show_options":"Ustawienia","show_help":"Pomoc","load_game":"Wczytaj","save_game":"Zapisz"},"install_prompt":{"modal_title":"Instaluj \'Kulki\'","prompt":"Klikaj\u0105c \'Instaluj\' mo\u017cesz utworzy\u0107 skr\xf3t do \'Kulek\' i mie\u0107 je dost\u0119pne offline, zawsze i wsz\u0119dzie.","ok_label":"Instaluj"},"board":{"cell_label":"kom\xf3rka {{ coords }}","cell_color":", kolor: {{ value }}","cell_empty":", pusta"},"game_over":{"modal_title":"Koniec gry","congratulations":"Gratulacje! Tw\xf3j wynik jest w czo\u0142\xf3wce!","name_label":"Podaj imi\u0119","dont_save":"Nie zapisuj","new_game_prompt":"Koniec gry. Czy chcesz gra\u0107 od nowa?"},"options":{"modal_title":"Opcje gry","info":"Zdobywasz tym wi\u0119cej punkt\xf3w, im wi\u0119cej kolor\xf3w w grze lub im mniejsza plansza. Dodatkowo, punktacja wzrasta je\u017celi wy\u0142\u0105czone jest wy\u015bwietlanie nast\u0119pnych kolor\xf3w. (Przyk\u0142adowa kalkulacja poni\u017cej.)","show_next_colors":"Wy\u015bwietlanie nast\u0119pnych kolor\xf3w:","show":"Pokazuj","hide":"Ukryj","number_of_colors":"Liczba kolor\xf3w w grze:","board_size":"Rozmiar planszy:","summary":"Przy powy\u017cszych ustawieniach, za zbicie <1>{{lineLength}}</1> kulek zdob\u0119dziesz <1>{{estimatedScore}}</1> punkt\xf3w."},"leaderboard":{"modal_title":"Najlepsze wyniki","th_player":"Gracz","th_score":"Wynik","th_date":"Data","close":"Zamknij","clear":"Skasuj wyniki","clear_scores_title":"Skasuj wyniki","clear_scores_message":"Czy na pewno chcesz skasowa\u0107 wszystkie zapisane wyniki?"},"load_game":{"modal_title":"Wczytaj gr\u0119","clear":"Skasuj wszystkie zapisane gry"},"save_game":{"modal_title":"Zapisz gr\u0119","initial_game_name":"kulki_{{date}}","input_label":"Nazwa gry"},"tutorial":{"modal_title":"Zasady gry","info":"Przemieszczaj kulki tak by tworzy\u0142y rz\u0119dy w tym samym kolorze. Rz\u0119dy mog\u0105 by\u0107 poziome, pionowe lub uko\u015bne, musz\u0105 sk\u0142ada\u0107 si\u0119 przynajmniej z 5 kulek i nie mog\u0105 mie\u0107 przerw.","moving_balls":"Aby przesun\u0105\u0107 wybran\u0105 kulk\u0119, kliknij na ni\u0105, a nast\u0119pnie kliknij na wolne miejsce - tam gdzie chcesz j\u0105 umie\u015bci\u0107. Je\u015bli istnieje \u015bcie\u017cka do tego miejsca, to kulka si\u0119 tam przemie\u015bci. Je\u017celi nie ma \u015bcie\u017cki, to taki ruch jest niemo\u017cliwy - musisz wybra\u0107 inne mo\u017cliwe miejsce lub inn\u0105 kulk\u0119.","scoring":"Gdy zbudujesz rz\u0105d z\u0142o\u017cony przynajmniej z 5 kulek tego samego koloru, ca\u0142y rz\u0105d zniknie z planszy, a ty otrzymasz punkty.","score_rules":"Zdob\u0119dziesz tym wi\u0119cej punkt\xf3w, im wi\u0119cej kolor\xf3w w grze lub im mniejsza plansza. Szczeg\xf3\u0142owe zasady punktacji s\u0105 opisane w \'Ustawieniach\' gry.","game_over":"Po ka\u017cdym ruchu na planszy pojawiaj\u0105 si\u0119 trzy kolejne kulki. Gra ko\u0144czy si\u0119 gdy na planszy nie ma ju\u017c wolnych miejsc. Je\u015bli twoja punktacja jest wtedy odpowiednio wysoka, to mo\u017cesz zapisa\u0107 sw\xf3j wynik w rankingu najlepszych graczy."}}')},33:function(e,t,n){e.exports=n(63)},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),c=n(20),i=n(30),s=n(3),u=n(27),p=n(28),f=new i.a;c.a.use(f).use(s.b).init({resources:{en:{translations:u},pl:{translations:p}},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:".",interpolation:{escapeValue:!1}});c.a;var m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b,v=n(1),h=n.n(v),g=n(2),y=n(4),O=n(31),j=Object(O.a)("boules-1",3,{upgrade:function(e,t,n,a){return Object(g.a)(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next=0===n.t0?3:1===n.t0?8:2===n.t0?9:17;break;case 3:e.createObjectStore("scores",{keyPath:"timestamp"}).createIndex("by-score","score"),e.createObjectStore("gameConditions"),e.createObjectStore("savedGames"),e.createObjectStore("recentPlayer");case 8:e.createObjectStore("pwaLastInstallPromptDate");case 9:return e.createObjectStore("currentGame"),n.next=12,a.objectStore("gameConditions").getAll();case 12:if(!(r=n.sent).length){n.next=16;break}return n.next=16,a.objectStore("currentGame").put(r[0],"CURRENT_GAME");case 16:e.deleteObjectStore("gameConditions");case 17:case"end":return n.stop()}}),n)})))()}});function w(e){return E.apply(this,arguments)}function E(){return(E=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=0)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,j;case 4:return n=e.sent,e.next=7,n.getAllFromIndex("scores","by-score",IDBKeyRange.lowerBound(t),10);case 7:return a=e.sent,e.abrupt("return",a.length<10);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(g.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return a=e.sent,(r=a.transaction(["scores","recentPlayer"],"readwrite")).objectStore("scores").add({playerName:t,score:n,timestamp:(new Date).getTime()}),r.objectStore("recentPlayer").put(t,"RECENT_PLAYER_KEY"),e.next=8,r.done;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return x.apply(this,arguments)}function x(){return(x=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.next=5,t.getAllFromIndex("scores","by-score");case 5:return n=e.sent,e.abrupt("return",n.reverse().slice(0,10));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.next=5,t.clear("scores");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.abrupt("return",t.get("currentGame","CURRENT_GAME"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return n=e.sent,e.next=5,n.put("currentGame",t,"CURRENT_GAME");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return L.apply(this,arguments)}function L(){return(L=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.abrupt("return",t.getAllKeys("savedGames"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return n=e.sent,e.next=5,n.get("savedGames",t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return G.apply(this,arguments)}function G(){return(G=Object(g.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return a=e.sent,e.next=5,a.put("savedGames",n,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return H.apply(this,arguments)}function H(){return(H=Object(g.a)(h.a.mark((function e(){var t,n,a,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:6048e5,e.next=3,j;case 3:return n=e.sent,e.next=6,n.get("pwaLastInstallPromptDate","PWA_LAST_INSTALL_PROMPT_DATE_KEY");case 6:return a=e.sent,e.abrupt("return",!a||a+t<Date.now());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return n=e.sent,e.next=5,n.put("pwaLastInstallPromptDate",t,"PWA_LAST_INSTALL_PROMPT_DATE_KEY");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return{type:"new_game",options:e}}function V(e){return{type:"load_game",gameState:e}}!function(e){e.Initial="initial",e.Waiting="waiting_for_click",e.Moving="moving_selected_ball",e.Adding="adding_new_balls",e.Freeing="freeing_full_row"}(b||(b={}));var q=n(9),D=n(29),K=n(11),U=n(5);function Y(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Array(e),a=t;a<e;a++)n[a]=a;return n}function J(e,t){var n=Math.ceil(e),a=Math.ceil(t);return Math.floor(Math.random()*(a-n))+n}function Z(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function $(e,t,n,a){var r=e[a],o=function(e){return e+1},l=a-a%t,c=X(e,l,l+t-1,o,r,n);if(c>=0)return ee(e,c,o);var i=function(e){return e+t},s=a%t,u=X(e,s,s+(t-1)*t,i,r,n);if(u>=0)return ee(e,u,i);var p=function(e){return e+t+1},f=X(e,Q(a,t,(function(e){return e-t-1})),Q(a,t,p),p,r,n);if(f>=0)return ee(e,f,p);var m=function(e){return e+t-1},d=X(e,Q(a,t,(function(e){return e-t+1})),Q(a,t,m),m,r,n);return d>=0?ee(e,d,m):null}function Q(e,t,n){var a,r,o,l=e;do{a=l,r=((l=n(l))-(o=l%t))/t}while(r>=0&&o>=0&&r<t&&o<t);return a}function X(e,t,n,a,r,o){for(var l=0,c=0,i=t,s=t,u=t;e[u]===r?++l>c&&(c=l,s=i):(l=0,i=a(u)),u!==n;)u=a(u);return c>=o?s:-1}function ee(e,t,n){for(var a=[],r=t;e[r]===e[t];)a.push(r),r=n(r);return a}function te(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return{size:e,lineLength:5,colorsCount:7,showNextColors:!0,score:0,model:new Array(e*e).fill(0),nextColors:new Array(3).fill(0),type:b.Initial}}();return Object(a.useReducer)(ne,e)}function ne(e,t){return"board_clicked"===t.type&&e.type===b.Waiting?function(e,t){if(e.model[t])return e.selectedBall===t?Object(U.a)({},e,{selectedBall:-1}):Object(U.a)({},e,{selectedBall:t});if(e.selectedBall>=0){var n=function(e,t,n,a){if(e===t)return[];if(n[t]>0)return null;var r=[e],o=[];o[e]=-1;var l=0,c=[];for(c[e]=!0;l<r.length;){var i=r[l];if(i===t){for(var s=[t],u=o[t];u!==e;)s.push(u),u=o[u];return s.reverse()}var p=i-a;p>=0&&0===n[p]&&!c[p]&&(r.push(p),c[p]=!0,o[p]=i),(p=i+a)<n.length&&0===n[p]&&!c[p]&&(r.push(p),c[p]=!0,o[p]=i),p=i-1,i%a===0||0!==n[p]||c[p]||(r.push(p),c[p]=!0,o[p]=i),p=i+1,i%a===a-1||0!==n[p]||c[p]||(r.push(p),c[p]=!0,o[p]=i),l++}return null}(e.selectedBall,t,e.model,e.size);return null===n?Object(U.a)({},e,{selectedBall:-1}):Object(U.a)({},e,{type:b.Moving,remainingPath:n,prevStepScore:e.score,prevStepModel:Object(K.a)(e.model),prevStepNextColors:Object(K.a)(e.nextColors)})}return e}(e,t.position):"animation_finished"===t.type&&e.type!==b.Waiting?function(e){if(e.type===b.Moving){var t=Object(D.a)(e.remainingPath),n=t[0],a=t.slice(1),r=Object(K.a)(e.model);if(r[n]=r[e.selectedBall],r[e.selectedBall]=0,a.length>0)return Object(U.a)({},e,{model:r,remainingPath:a,selectedBall:n});var o=$(r,e.size,e.lineLength,n);return null===o?re(Object(U.a)({},e,{model:r})):Object(U.a)({},e,{model:r,score:e.score+oe(o.length,e),type:b.Freeing,ballsToRemove:o})}if(e.type===b.Adding){var l=Object(K.a)(e.model),c=(f=e.positionsToFill,m=function(e,t){return t>0},Object.keys(f).map((function(e){return Number(e)})).filter((function(e){return m(e,f[e])})));if(c.length<1)throw new Error;var i=c[0];if(l[i]=e.positionsToFill[i],c.length>1)return Object(U.a)({},e,{model:l,positionsToFill:Object(U.a)({},e.positionsToFill,Object(q.a)({},i,-1))});var s=Object.keys(e.positionsToFill).map((function(e){return Number(e)})).map((function(t){return $(l,e.size,e.lineLength,t)}));if(s.some((function(e){return null!==e}))){var u=s.flatMap((function(e){return null===e?[]:e}));return Object(U.a)({},e,{model:l,nextColors:ae(e.colorsCount),score:e.score+oe(u.length,e),type:b.Freeing,ballsToRemove:u})}var p=Object(U.a)({},e,{model:l,nextColors:ae(e.colorsCount),type:b.Waiting,selectedBall:-1});return p.model.every((function(e){return e>0}))&&(p.prevStepScore=void 0,p.prevStepModel=void 0,p.prevStepNextColors=void 0),p}var f,m;if(e.type===b.Freeing){var d=Object(K.a)(e.model);return e.ballsToRemove.forEach((function(e){d[e]=0})),Object(U.a)({},e,{model:d,type:b.Waiting,selectedBall:-1})}throw new Error}(e):"new_game"===t.type?function(e,t){var n=t||e,a=n.size,r=n.colorsCount,o=n.showNextColors;return re({lineLength:e.lineLength,size:a,colorsCount:r,showNextColors:o,score:0,model:new Array(a*a).fill(0),nextColors:ae(r,5)})}(e,t.options):"load_game"===t.type?Object(U.a)({},t.gameState,{type:b.Waiting,selectedBall:-1}):"undo"===t.type&&e.type===b.Waiting&&e.prevStepModel&&e.prevStepNextColors?Object(U.a)({},e,{score:e.prevStepScore||0,model:e.prevStepModel,nextColors:e.prevStepNextColors,prevStepModel:void 0,prevStepNextColors:void 0,selectedBall:-1}):e}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.min(e,9)+1;return Y(t).map((function(){return J(1,n)}))}function re(e){var t=[];e.model.forEach((function(e,n){0===e&&t.push(n)}));var n=[],a=e.nextColors.length;if(t.length<=a)n=t;else{var r=t.length/a;n=Y(a).map((function(e){return t[J(e*r,(e+1)*r)]}))}var o={};return n.forEach((function(t,n){o[t]=e.nextColors[n]})),Object(U.a)({},e,{type:b.Adding,positionsToFill:o})}function oe(e,t){var n=t.size,a=t.colorsCount,r=t.showNextColors,o=e*Math.max(1,a-5)+(9-n);return r?o-Math.round(o/3):o}var le,ce=n(7),ie=n.n(ce);n(47);!function(e){e.up="Up",e.down="Down",e.left="Left",e.right="Right"}(le||(le={}));var se=function(e){var t=e.value,n=e.selected,a=e.moveTo,o=e.fillNewValue,l=e.disappearing;return r.a.createElement("div",{className:"ColoredCell"},function(){var e;if(!t&&!o)return null;var c=t||o,i=ie()("ColoredCell-circle","ColoredCell-circle--".concat(c),(e={"ColoredCell-circle--selected":n,"ColoredCell-circle--moving":!!a},Object(q.a)(e,"ColoredCell-circle--moving".concat(a),!!a),Object(q.a)(e,"ColoredCell-circle--appearing",!!o),Object(q.a)(e,"ColoredCell-circle--disappearing",l),e));return r.a.createElement("div",{className:i})}())},ue=(n(48),function(e){var t=e.x,n=e.y,o=e.position,l=e.value,c=e.selected,i=e.disabled,u=e.moveTo,p=e.fillNewValue,f=e.disappearing,m=e.onClick,d=e.onAnimationFinished,b=Object(s.c)().t;Object(a.useEffect)((function(){if(u||p||f){var e=setTimeout((function(){d()}),150);return function(){clearTimeout(e)}}}),[u,p,f,d]);var v=Object(a.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=!0;function a(){if(n)return n=!1,setTimeout((function(){n=!0}),t),e.apply(void 0,arguments)}return a}((function(){m(o)})),[m,o]),h=b("board.cell_label",{coords:"(".concat(t,", ").concat(n,")")}),g=l?b("board.cell_color",{value:l}):b("board.cell_empty");return r.a.createElement("button",{type:"button",className:"BoardCell",onClick:v,disabled:i,"aria-label":"".concat(h).concat(g)},r.a.createElement(se,{value:l,selected:c,moveTo:u,fillNewValue:p,disappearing:f}))}),pe=(n(49),function(e){var t=e.state,n=e.dispatch,o=e.onGameOver,l=t.size,c=t.model;Object(a.useEffect)((function(){t.type===b.Waiting&&t.model.every((function(e){return e>0}))&&o()}),[t.type,t.model,o]);var i=-1,s=!1,u=-1,p=!1,f=-1,m=0,d=[];t.type===b.Waiting&&(i=t.selectedBall),t.type===b.Moving&&(i=t.selectedBall,s=!0,u=t.remainingPath[0],p=1===t.remainingPath.length),t.type===b.Adding&&(s=!0,f=function(e,t,n){var a=Object.keys(e).map((function(e){return Number(e)})).find((function(n){return t(n,e[n])}));return void 0===a?n:a}(t.positionsToFill,(function(e,t){return t>0}),-1),m=t.positionsToFill[f]),t.type===b.Freeing&&(s=!0,d=t.ballsToRemove);var v=Object(a.useCallback)((function(e){s||n(function(e){return{type:"board_clicked",position:e}}(e))}),[n,s]),y=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,Z(100);case 3:n({type:"animation_finished"});case 4:case"end":return e.stop()}}),e)}))),[n,p]);return r.a.createElement("div",{className:"Board"},Y(l).map((function(e){return r.a.createElement("div",{key:e,className:"Board-row"},Y(l).map((function(t){var n=e*l+t,a=c[n],o=i===n,p=f===n,b=d.includes(n);return r.a.createElement(ue,{key:t,x:e,y:t,position:n,value:a,selected:o,disabled:s,moveTo:o&&s?fe(n,u,l):void 0,fillNewValue:p?m:void 0,disappearing:b,onClick:v,onAnimationFinished:y})})))})))});function fe(e,t,n){return t===e-n?le.up:t===e+n?le.down:t===e-1?le.left:le.right}n(50);var me=function(e){var t=e.nextColors,n=Object(s.c)().t;return r.a.createElement("div",{className:"NextColors"},r.a.createElement("h2",null,n("app.next_colors")),r.a.createElement("div",{className:"NextColors-row"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"NextColors-cell"},r.a.createElement(se,{value:e}))}))))},de=(n(51),function(e){var t=e.open,n=e.onRequestClose,o=e.title,c=e.priority,i=void 0===c?"default":c,s=e.children,u=e.focusElement,p=void 0===u?null:u,f=Object(a.useRef)(null),m=Object(a.useState)(null),d=Object(y.a)(m,2),b=d[0],v=d[1];function h(e){try{e.focus()}catch(t){}return document.activeElement===e}Object(a.useEffect)((function(){t?v(document.activeElement):b&&(h(b),v(null))}),[t,v,b]),Object(a.useEffect)((function(){if(b){if(p&&h(p))return;f.current&&function e(t){if(f.current)for(var n=0;n<t.childNodes.length;n++){var a=t.childNodes[n];if(h(a)||e(a))return!0}}(f.current)}}),[b,p]),Object(a.useEffect)((function(){function e(e){"Escape"===e.code&&(e.stopPropagation(),n())}return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[n]);var g=document.getElementById("modal-root");return l.a.createPortal(r.a.createElement("div",{className:ie()("Modal-backdrop","Modal-backdrop--".concat(i,"Priority"),{"Modal-backdrop--active":t})},r.a.createElement("div",{className:ie()("Modal",{"Modal--hidden":!t}),role:"dialog","aria-describedby":o||"modal","aria-modal":"true"},!!o&&r.a.createElement("h2",null,o),r.a.createElement("div",{className:"Modal-content",ref:f},s))),g)}),be=(n(52),n(32));function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ge=r.a.createElement("path",{clipRule:"evenodd",fill:"none",d:"M0 0h24v24H0z"}),ye=r.a.createElement("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),Oe=function(e){var t=e.svgRef,n=e.title,a=he(e,["svgRef","title"]);return r.a.createElement("svg",ve({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,ge,ye)},je=r.a.forwardRef((function(e,t){return r.a.createElement(Oe,ve({svgRef:t},e))}));n.p;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ke=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Ce=r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),_e=function(e){var t=e.svgRef,n=e.title,a=Ee(e,["svgRef","title"]);return r.a.createElement("svg",we({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,ke,Ce)},xe=r.a.forwardRef((function(e,t){return r.a.createElement(_e,we({svgRef:t},e))}));n.p;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ne=r.a.createElement("g",{id:"Bounding_Box"},r.a.createElement("rect",{fill:"none",width:24,height:24})),Re=r.a.createElement("g",{id:"Flat"},r.a.createElement("g",{id:"ui_x5F_spec_x5F_header_copy_2"}),r.a.createElement("path",{d:"M19,5h-2V3H7v2H5C3.9,5,3,5.9,3,7v1c0,2.55,1.92,4.63,4.39,4.94c0.63,1.5,1.98,2.63,3.61,2.96V19H7v2h10v-2h-4v-3.1 c1.63-0.33,2.98-1.46,3.61-2.96C19.08,12.63,21,10.55,21,8V7C21,5.9,20.1,5,19,5z M7,10.82C5.84,10.4,5,9.3,5,8V7h2V10.82z M19,8 c0,1.3-0.84,2.4-2,2.82V7h2V8z"})),Me=function(e){var t=e.svgRef,n=e.title,a=Se(e,["svgRef","title"]);return r.a.createElement("svg",ze({x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Ne,Re)},Pe=r.a.forwardRef((function(e,t){return r.a.createElement(Me,ze({svgRef:t},e))}));n.p;function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ae=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Te=r.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),Ge=function(e){var t=e.svgRef,n=e.title,a=Be(e,["svgRef","title"]);return r.a.createElement("svg",Le({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,Ae,Te)},Ie=r.a.forwardRef((function(e,t){return r.a.createElement(Ge,Le({svgRef:t},e))}));n.p;function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Fe=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Ve=r.a.createElement("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}),qe=function(e){var t=e.svgRef,n=e.title,a=We(e,["svgRef","title"]);return r.a.createElement("svg",He({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,Fe,Ve)},De=r.a.forwardRef((function(e,t){return r.a.createElement(qe,He({svgRef:t},e))}));n.p;function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ye=r.a.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),Je=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Ze=function(e){var t=e.svgRef,n=e.title,a=Ue(e,["svgRef","title"]);return r.a.createElement("svg",Ke({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,Ye,Je)},$e=r.a.forwardRef((function(e,t){return r.a.createElement(Ze,Ke({svgRef:t},e))}));n.p;function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var et=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),tt=r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),nt=function(e){var t=e.svgRef,n=e.title,a=Xe(e,["svgRef","title"]);return r.a.createElement("svg",Qe({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,et,tt)},at=r.a.forwardRef((function(e,t){return r.a.createElement(nt,Qe({svgRef:t},e))}));n.p;function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ot(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var lt=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),ct=r.a.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),it=function(e){var t=e.svgRef,n=e.title,a=ot(e,["svgRef","title"]);return r.a.createElement("svg",rt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,lt,ct)},st=r.a.forwardRef((function(e,t){return r.a.createElement(it,rt({svgRef:t},e))}));n.p;function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ft=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),mt=r.a.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),dt=function(e){var t=e.svgRef,n=e.title,a=pt(e,["svgRef","title"]);return r.a.createElement("svg",ut({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,ft,mt)},bt=r.a.forwardRef((function(e,t){return r.a.createElement(dt,ut({svgRef:t},e))})),vt=(n.p,{build:je,help:xe,leaderboard:Pe,menu:Ie,open:De,refresh:$e,save:at,settings:st,undo:bt}),ht=function(e){var t=e.glyph,n=Object(be.a)(e,["glyph"]),a=vt[t];return r.a.createElement(a,n)},gt=r.a.forwardRef((function(e,t){var n=e.label,a=e.hideLabel,o=e.icon,l=e.variant,c=void 0===l?"default":l,i=e.disabled,s=e.tabIndex,u=e.onClick;return r.a.createElement("button",{ref:t,type:"button",className:ie()("Button","Button--".concat(c),{"Button--disabled":i,"Button--icon-only":!!a}),onClick:u,disabled:i,tabIndex:s,title:n,"aria-label":n},!!o&&r.a.createElement(ht,{glyph:o}),!a&&r.a.createElement("span",null,n))})),yt=(n(53),function(e){var t=e.score,n=e.open,o=e.onRequestClose,l=Object(s.c)().t,c=Object(a.useState)(!1),i=Object(y.a)(c,2),u=i[0],p=i[1],f=Object(a.useState)(""),m=Object(y.a)(f,2),d=m[0],b=m[1];function v(){return(v=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){n&&function(e){v.apply(this,arguments)}(t)}),[t,n]);var O=Object(a.useCallback)((function(e){b(e.target.value)}),[b]),j=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(d,t);case 2:o("show_leaderboard");case 3:case"end":return e.stop()}}),e)}))),[d,t,o]),E=Object(a.useCallback)((function(){o("new_game")}),[o]),C=Object(a.useCallback)((function(){o()}),[o]);return r.a.createElement(de,{open:n,onRequestClose:o,title:l("game_over.modal_title")},r.a.createElement("div",{className:"GameOverModal"},u?r.a.createElement("div",null,r.a.createElement("p",null,l("game_over.congratulations")),r.a.createElement("div",{className:"GameOverModal-inputWrapper"},r.a.createElement("label",null,l("game_over.name_label"),r.a.createElement("input",{type:"text",value:d,onChange:O})))):r.a.createElement("p",null,l("game_over.new_game_prompt")),u?r.a.createElement("div",{className:"GameOverModal-buttons"},r.a.createElement(gt,{variant:"primary",label:l("global.save"),onClick:j}),r.a.createElement(gt,{label:l("game_over.dont_save"),onClick:C})):r.a.createElement("div",{className:"GameOverModal-buttons"},r.a.createElement(gt,{variant:"primary",label:l("global.yes"),onClick:E}),r.a.createElement(gt,{label:l("global.no"),onClick:C}))))}),Ot=(n(54),n(55),function(e){var t=e.title,n=e.okLabel,o=e.children,l=e.open,c=e.onOk,i=e.onCancel,u=e.focusedButton,p=void 0===u?"ok":u,f=e.primaryButton,m=Object(s.c)().t,d=Object(a.useRef)(null),b=Object(a.useRef)(null),v="cancel"===p?b:d;return r.a.createElement(de,{priority:"top",open:l,onRequestClose:i,title:t,focusElement:v.current},r.a.createElement("div",{className:"OkCancelModal"},r.a.createElement("div",{className:"OkCancelModal-content"},o),r.a.createElement("div",{className:"OkCancelModal-buttons"},r.a.createElement(gt,{ref:b,label:m("global.cancel"),variant:"cancel"===f?"primary":void 0,onClick:i}),r.a.createElement(gt,{ref:d,label:n||m("global.ok"),variant:"ok"===f?"primary":void 0,onClick:c}))))}),jt=function(e){var t=e.open,n=e.onRequestClose,o=Object(s.c)().t,l=Object(a.useState)([]),c=Object(y.a)(l,2),i=c[0],u=c[1],p=Object(a.useState)(!1),f=Object(y.a)(p,2),m=f[0],d=f[1];function b(){return v.apply(this,arguments)}function v(){return(v=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){t&&b()}),[t]);var O=Object(a.useCallback)((function(){d(!0)}),[d]),j=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return e.next=4,b();case 4:case"end":return e.stop()}}),e)}))),[]),w=Object(a.useCallback)((function(){d(!1)}),[d]),E=Object(a.useCallback)((function(){d(!1),n()}),[d,n]);return r.a.createElement(de,{open:t,onRequestClose:E,title:o("leaderboard.modal_title")},r.a.createElement("div",{className:"LeaderboardModal"},r.a.createElement("div",{className:"LeaderboardModal-tableWrapper"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,o("leaderboard.th_player")),r.a.createElement("th",null,o("leaderboard.th_score")),r.a.createElement("th",null,o("leaderboard.th_date")))),r.a.createElement("tbody",null,i.map((function(e){var t=e.playerName,n=e.score,a=e.timestamp;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,new Date(a).toLocaleString()))}))))),r.a.createElement("div",{className:"LeaderboardModal-buttons"},r.a.createElement(gt,{label:o("leaderboard.close"),variant:"primary",onClick:E}),r.a.createElement(gt,{label:o("leaderboard.clear"),onClick:O})),r.a.createElement(Ot,{title:o("leaderboard.clear_scores_title"),okLabel:o("global.yes"),open:m,onOk:j,onCancel:w,focusedButton:"cancel"},o("leaderboard.clear_scores_message"))))},wt=function(e){var t=e.showModal,n=Object(s.c)().t,o=Object(a.useState)(t),l=Object(y.a)(o,2),c=l[0],i=l[1];Object(a.useEffect)((function(){i(t)}),[t]);var u=Object(a.useCallback)((function(){i(!0)}),[i]),p=Object(a.useCallback)((function(){i(!1)}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{icon:"leaderboard",label:n("app.show_leaderboard"),hideLabel:!0,onClick:u}),r.a.createElement(jt,{open:c,onRequestClose:p}))},Et=n(17),kt=n(18),Ct=n(21),_t=n(19),xt=n(22),zt=(n(56),function(e){function t(){return Object(Et.a)(this,t),Object(Ct.a)(this,Object(_t.a)(t).apply(this,arguments))}return Object(xt.a)(t,e),Object(kt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.vertical,n=e.options,a=e.value,o=e.onChange;return r.a.createElement("div",{className:ie()("SegmentedControl",{"SegmentedControl--vertical":t})},n.map(St).map((function(e){return r.a.createElement(Nt,{key:e.value.toString(),label:e.label,value:e.value,selected:e.value===a,onSelect:o})})))}}]),t}(r.a.PureComponent));function St(e){return"object"===typeof e?e:{value:e,label:e.toString()}}var Nt=function(e){function t(){var e,n;Object(Et.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Ct.a)(this,(e=Object(_t.a)(t)).call.apply(e,[this].concat(r)))).buttonClicked=function(){n.props.onSelect(n.props.value)},n}return Object(xt.a)(t,e),Object(kt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.selected;return r.a.createElement("button",{type:"button",className:ie()("SegmentedControl-button",{"SegmentedControl-button--selected":n}),onClick:this.buttonClicked},t)}}]),t}(r.a.PureComponent),Rt=(n(57),Y(10,5)),Mt=Y(12,5),Pt=function(e){var t=e.open,n=e.initialValue,o=e.onSubmit,l=e.onCancel,c=Object(s.c)().t,i=Object(a.useState)(n.showNextColors),u=Object(y.a)(i,2),p=u[0],f=u[1],m=Object(a.useState)(n.colorsCount),d=Object(y.a)(m,2),b=d[0],v=d[1],O=Object(a.useState)(n.size),j=Object(y.a)(O,2),w=j[0],E=j[1],k=Object(a.useMemo)((function(){return[{value:!1,label:c("options.hide")},{value:!0,label:c("options.show")}]}),[c]);Object(a.useEffect)((function(){t&&(f(n.showNextColors),v(n.colorsCount),E(n.size))}),[t,n]);var C=Object(a.useCallback)((function(e){f(e)}),[f]),_=Object(a.useCallback)((function(e){v(e)}),[v]),x=Object(a.useCallback)((function(e){E(e)}),[E]),z=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({size:w,showNextColors:p,colorsCount:b});case 1:case"end":return e.stop()}}),e)}))),[w,p,b,o]),S=oe(5,{size:w,showNextColors:p,colorsCount:b});return r.a.createElement(de,{open:t,onRequestClose:l,title:c("options.modal_title")},r.a.createElement("div",{className:"OptionsModal"},r.a.createElement("p",null,c("options.info")),r.a.createElement("h4",null,c("options.show_next_colors")),r.a.createElement(zt,{options:k,value:p,onChange:C}),r.a.createElement("h4",null,c("options.number_of_colors")),r.a.createElement(zt,{options:Rt,value:b,onChange:_}),r.a.createElement("h4",null,c("options.board_size")),r.a.createElement(zt,{options:Mt,value:w,onChange:x}),r.a.createElement(s.a,{i18nKey:"options.summary",parent:"p"},"With these settings, for ",r.a.createElement("strong",null,{lineLength:5},"-cell-long")," ","row you will earn ",r.a.createElement("strong",null,{estimatedScore:S})," points.")),r.a.createElement("div",{className:"OptionsModal-buttons"},r.a.createElement(gt,{label:c("global.cancel"),onClick:l}),r.a.createElement(gt,{label:c("global.save"),variant:"primary",onClick:z})))},Lt=function(e){var t=e.value,n=e.onChange,o=Object(s.c)().t,l=Object(a.useState)(!1),c=Object(y.a)(l,2),i=c[0],u=c[1],p=Object(a.useCallback)((function(){u(!0)}),[u]),f=Object(a.useCallback)((function(){u(!1)}),[u]),m=Object(a.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),n(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{icon:"build",label:o("app.show_options"),hideLabel:!0,onClick:p}),r.a.createElement(Pt,{open:i,initialValue:t,onSubmit:m,onCancel:f}))},Bt=(n(58),function(e){var t=e.open,n=e.onRequestClose,a=Object(s.c)().t;return r.a.createElement(de,{open:t,onRequestClose:n,title:a("tutorial.modal_title")},r.a.createElement("div",{className:"TutorialModal"},r.a.createElement("p",null,a("tutorial.info")),r.a.createElement("p",null,a("tutorial.moving_balls")),r.a.createElement("p",null,a("tutorial.scoring")),r.a.createElement("p",null,a("tutorial.score_rules")),r.a.createElement("p",null,a("tutorial.game_over"))),r.a.createElement("div",{className:"TutorialModal-buttons"},r.a.createElement(gt,{label:a("global.ok"),onClick:n})))}),At=function(){var e=Object(s.c)().t,t=Object(a.useState)(!1),n=Object(y.a)(t,2),o=n[0],l=n[1],c=Object(a.useCallback)((function(){l(!0)}),[l]),i=Object(a.useCallback)((function(){l(!1)}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{icon:"help",label:e("app.show_help"),hideLabel:!0,onClick:c}),r.a.createElement(Bt,{open:o,onRequestClose:i}))},Tt=(n(59),function(e){var t=e.open,n=e.onGameLoaded,o=e.onRequestClose,l=Object(s.c)().t,c=Object(a.useState)([]),i=Object(y.a)(c,2),u=i[0],p=i[1];Object(a.useEffect)((function(){t&&function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var f=Object(a.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:(a=e.sent)&&n(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return r.a.createElement(de,{open:t,onRequestClose:o,title:l("load_game.modal_title")},r.a.createElement("div",{className:"LoadGameModal"},r.a.createElement("div",{className:"LoadGameModal-list"},r.a.createElement(zt,{vertical:!0,options:u,onChange:f})),r.a.createElement("div",{className:"LoadGameModal-buttons"},r.a.createElement(gt,{label:l("global.cancel"),onClick:o}))))}),Gt=function(e){var t=e.onGameLoaded,n=Object(s.c)().t,o=Object(a.useState)(!1),l=Object(y.a)(o,2),c=l[0],i=l[1],u=Object(a.useCallback)((function(){i(!0)}),[i]),p=Object(a.useCallback)((function(){i(!1)}),[i]),f=Object(a.useCallback)((function(e){i(!1),t(e)}),[i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{icon:"open",label:n("app.load_game"),onClick:u}),r.a.createElement(Tt,{open:c,onRequestClose:p,onGameLoaded:f}))},It=(n(60),function(e){var t=e.gameState,n=e.open,o=e.onRequestClose,l=Object(s.c)().t,c=Object(a.useState)(l("save_game.initial_game_name",{date:(new Date).toISOString().substring(0,16).replace("T","_").replace(":","")})),i=Object(y.a)(c,2),u=i[0],p=i[1],f=Object(a.useCallback)((function(e){p(e.target.value)}),[p]),m=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(u,t);case 2:o();case 3:case"end":return e.stop()}}),e)}))),[u,t,o]);return r.a.createElement(de,{open:n,onRequestClose:o,title:l("save_game.modal_title")},r.a.createElement("div",{className:"SaveGameModal"},r.a.createElement("div",{className:"SaveGameModal-inputWrapper"},r.a.createElement("label",null,l("save_game.input_label"),r.a.createElement("input",{type:"text",value:u,onChange:f}))),r.a.createElement("div",{className:"SaveGameModal-buttons"},r.a.createElement(gt,{label:l("global.cancel"),onClick:o}),r.a.createElement(gt,{label:l("global.save"),variant:"primary",onClick:m}))))}),Ht=function(e){var t=e.gameState,n=Object(s.c)().t,o=Object(a.useState)(!1),l=Object(y.a)(o,2),c=l[0],i=l[1],u=Object(a.useCallback)((function(){i(!0)}),[i]),p=Object(a.useCallback)((function(){i(!1)}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{label:n("app.save_game"),icon:"save",onClick:u}),r.a.createElement(It,{gameState:t,open:c,onRequestClose:p}))},Wt=function(){var e=Object(s.c)().t,t=Object(a.useState)(!1),n=Object(y.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(null),i=Object(y.a)(c,2),u=i[0],p=i[1],f=Object(a.useState)(!1),m=Object(y.a)(f,2),d=m[0],b=m[1];Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]),Object(a.useEffect)((function(){function e(e){p(e)}return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}}),[p]),Object(a.useEffect)((function(){d&&u&&l(!0)}),[d,u]);var v=Object(a.useCallback)((function(){l(!1),function(e){W.apply(this,arguments)}(Date.now())}),[l]),O=Object(a.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u&&(u.prompt(),l(!1));case 1:case"end":return e.stop()}}),e)}))),[u,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{title:e("install_prompt.modal_title"),okLabel:e("install_prompt.ok_label"),open:o,onOk:O,onCancel:v,focusedButton:"ok",primaryButton:"ok"},e("install_prompt.prompt")))},Ft=["en","pl"].map((function(e){return{label:e.toUpperCase(),value:e}})),Vt=function(){var e=Object(s.c)().i18n,t=Object(a.useCallback)((function(t){e.changeLanguage(t)}),[e]);return r.a.createElement("div",{className:"LocaleChooser"},r.a.createElement(zt,{options:Ft,value:e.language,onChange:t}))},qt=(n(61),new Array(3).fill(0)),Dt=function(){var e=Object(s.c)().t,t=te(),n=Object(y.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(!1),i=Object(y.a)(c,2),u=i[0],p=i[1],f=Object(a.useState)(!1),m=Object(y.a)(f,2),d=m[0],b=m[1];Object(a.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)?t.model?l(V(t)):l(F(t)):l(F({size:9,showNextColors:!0,colorsCount:7}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(a.useEffect)((function(){!function(e){M.apply(this,arguments)}(o)}),[o]);var v=Object(a.useCallback)((function(){p(!0)}),[p]),O=Object(a.useCallback)((function(e){p(!1),"new_game"===e?l(F()):"show_leaderboard"===e&&b(!0)}),[l]),j=Object(a.useCallback)((function(){l(F())}),[l]),w=Object(a.useCallback)((function(){l({type:"undo"})}),[l]),E=Object(a.useCallback)((function(e){l(F(e))}),[l]),k=Object(a.useCallback)((function(e){l(V(e))}),[l]),C=5===o.nextColors.length,_=!o.showNextColors||C?qt:o.nextColors;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,e("app.title")),r.a.createElement("div",{className:"App-localeChooser"},r.a.createElement(Vt,null))),r.a.createElement("nav",null,r.a.createElement(gt,{icon:"refresh",label:e("app.new_game"),onClick:j}),r.a.createElement(Gt,{onGameLoaded:k}),r.a.createElement(Ht,{gameState:o}),r.a.createElement(gt,{icon:"undo",label:e("app.undo"),disabled:!o.prevStepModel,onClick:w}),r.a.createElement("span",{style:{flexGrow:1}}),r.a.createElement(wt,{showModal:d}),r.a.createElement(Lt,{value:o,onChange:E}),r.a.createElement(At,null)),r.a.createElement("main",null,r.a.createElement("aside",null,r.a.createElement("h2",null,e("app.score")," ",o.score),r.a.createElement(me,{nextColors:_})),r.a.createElement("section",null,r.a.createElement(pe,{state:o,dispatch:l,onGameOver:v}))),r.a.createElement(yt,{score:o.score,open:u,onRequestClose:O}),r.a.createElement(Wt,null))};n(62);l.a.render(r.a.createElement(Dt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");m?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.f69c4d82.chunk.js.map